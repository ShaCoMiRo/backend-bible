# 힙

1. [정의](#정의)
2. [활용](#활용)
3. [구현](#구현)
   1. [Heap Push](#heap-push)
   2. [Heap Pop](#heap-pop)
4. [참고 자료](#참고-자료)

## 정의

> 우선순위 큐(Priority Queue)의 구현을 위해 고안된 자료구조.

힙(Heap)은 그 자체로 우선순위 큐의 구현과 일치한다. 여러 데이터들 중에서 우선순위(기준)에 맞춰 최댓값과 최솟값을 빠르게 찾아내도록 만들어졌다.

힙의 종류와 조건은 다음과 같다.

- 최대 힙(Max Meap)
  - 부모 노드에 저장된 값이 자식 노드의 값보다 크거나 같다.
- 최소 힙(Min Heap)
  - 부모 노드에 저장된 값이 자식 노드의 값보다 작거나 같다.

## 활용

힙 자료구조 자체가 우선순위 큐의 구현을 위해 만들어졌다. 사실상 우선순위 큐를 활용하는 경우가 힙의 활용 사례라고 봐도 된다.

## 구현

트리는 보통 링크드 리스트로 구현하나, 힙은 트리임에도 불구하고 **배열**을 기반으로 구현해야 한다. 그 이유는 새로운 노드를 힙의 '**마지막 위치**'에 추가해야 하는데, 이 때 배열 기반으로 구현해야 이 과정이 수월하기 때문이다.

- 구현의 편의를 위해 배열의 첫번째 인덱스는 사용하지 않는다.
- 완전 이진 트리의 특성을 활용하여 배열의 인덱스만으로 부모-자식 관계를 정의한다.
  - n번째 노드의 왼쪽 자식 = n\*2
  - n번째 노드의 오른쪽 자식 = n\*2 + 1
  - n번째 노드의 부모 = n/2

### Heap Push

1. 힙에 새로운 요소가 push되면, 우선 새로운 노드를 힙의 맨 마지막 노드에 이어서 저장한다.
2. 부모 노드의 값이 더 작다면 교환(swap)한다.
3. 부모 노드의 값이 더 클 때까지 교환을 계속한다.
4. 교환이 멈추면 push가 완료된다.

힙 트리의 높이는 `logN`이다. push를 했을 때, 교환(swap) 과정이 최대 `logN`번 반복되기 때문에 이 과정은 `O(log(n))`의 시간복잡도를 갖는다.

### Heap Pop

1. 루트 노드에 저장된 값을 pop한다.
2. 힙의 마지막 값을 루트 노드로 옮긴다.
3. 루트 노드에 저장된 값이 자식 노드보다 작을 경우, 자식 노드들 중에 큰 값과 교환(swap)한다.
4. 자식 노드가 더 작을 때까지 교환을 계속한다.
5. 교환이 멈추면 pop이 완료된다.

이 과정 역시 교환(swap) 과정이 최대 `logN`번 반복되기 때문에 `O(log(n))`의 시간복잡도를 갖는다.

## 참고 자료

- [[자료구조] 힙(heap)이란](https://gmlwjd9405.github.io/2018/05/10/data-structure-heap.html)
