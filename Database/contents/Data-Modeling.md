# 데이터 모델링

1. [데이터 모델링(data modeling)](#데이터-모델링data-modeling)
   1. [데이터 모델](#데이터-모델)
2. [개체-관계 모델](#개체-관계-모델)
   1. [개체(entity)](#개체entity)
   2. [속성(attribute)](#속성attribute)
   3. [관계(relationship)](#관계relationship)
      1. [관계의 차수](#관계의-차수)
      2. [매핑 카디널리티(mapping cardinality)](#매핑-카디널리티mapping-cardinality)
   4. [E-R 다이어그램](#e-r-다이어그램)
3. [논리적 데이터 모델](#논리적-데이터-모델)
   1. [관계 데이터 모델(Relational Data Model)](#관계-데이터-모델relational-data-model)
   2. [계층 데이터 모델(Hierarchical Data Model)](#계층-데이터-모델hierarchical-data-model)
   3. [네트워크 데이터 모델(Network Data Model)](#네트워크-데이터-모델network-data-model)
4. [참고 자료](#참고-자료)

## 데이터 모델링(data modeling)

데이터 모델링은 **현실 세계의 데이터를 컴퓨터 세계의 데이터베이스로 옮기는 변환 과정**을 말한다. 이는 **데이터베이스 설계의 핵심 과정**으로, 필요한 데이터만 선별하기 위해선 많은 고민과 결정이 필요하기에 어려운 작업이다.

> **데이터베이스**
>
> 현실 세계에 존재하는 수많은 데이터 중에서 조직을 운영하는 데 꼭 필요한 데이터만 선별하여 저장한 것.

데이터 모델링은 아래의 과정을 거치게 된다.

1. **요구사항 수집 및 분석** : 데이터베이스로 구현할 대상과 사용자의 요구사항을 수집하고 분석한다.
2. **개념적 모델링(표준화, ERD 작성)** : 데이터베이스로 구현할 대상에 대한 데이터를 추출하고 각 데이터들 간의 관계를 정의한다.
3. **DBMS 선정**
4. **논리적 모델링(속성 정의)** : 개념을 구체화하여 데이터베이스로 구현하기 위한 모델을 생성한다.
5. **물리적 모델링(개체, 인덱스 정의)** : 컴퓨터의 저장 장치에 저장하기 위한 물리적 구조를 정의하고 구현한다.
6. **데이터베이스 구현 완료**

### 데이터 모델

데이터 모델은 **데이터 모델링의 결과물을 표현하는 도구**로, 구조(structure), 연산(operation), 제약조건(constraint)로 구성된다.

- **구조** : 논리적으로 표현된 개체 타입들 간의 관계로서, 자주 변하지 않고 정적인 특징을 갖는다.
- **연산** : 데이터베이스에 저장된 실제 데이터를 처리하는 작업에 대한 명세로서 데이터베이스를 조작하는 기본도구이며, 동적인 특징을 갖는다.
- **제약조건** : 데이터베이스에 저장될 수 있는 실제 데이터의 논리적 제약 조건이다.

> **데이터 모델 별 구조의 차이**
>
> - 개념적 데이터 모델에서의 데이터 구조 : 현실 세계로 추상화했을 때 어떤 요소로 이루어져 있는지를 표현하는 개념적 구조.
> - 논리적 데이터 모델에서의 데이터 구조 : 데이터를 어떤 모습으로 저장할 것인지를 표현하는 논리적 구조.

데이터베이스를 설계한다는 것은 곧 `데이터베이스 설계 = 개념적 데이터 모델링 + 논리적 데이터 모델링`과 같다. 사용하는 데이터 모델에 따라 현실 세계를 표현하는 개념적 구조나 논리적 구조의 모습이 달라진다.

> **널리 사용되는 대표적인 모델**
>
> - 개체-관계 모델(E-R Model)
> - [관계 데이터 모델(Relation Data Model)](./Relational-Data-Model.md)

## 개체-관계 모델

**개체와 개체 간의 관계를 통해 현실 세계를 개념적 구조로 표현하는 방법**이다. 머릿속에 그릴 수 있는 개념적인 구조로 모델링하는 것이기에 어떤 DBMS로 데이터베이스를 구축하는지 상관 없다. 개체-관계 모델을 그림으로 표현한 것이 [개체-관계 다이어그램(E-R Diagram)](#e-r-다이어그램)이다.

개체-관계 모델은 개체(entity), 속성(attribute), 관계(relationship)으로 이루어져 있다.

### 개체(entity)

현실 세게에서 데이터베이스에 저장할 만한 가치가 있는 중요 데이터를 지닌 대상(사람, 사물, 개념 등)을 의미한다. 개념적 모델링에서 가장 중요한 요소이다. 개체-관계 모델에서 개체와 속성은 파일 구조에서 레코드와 필드에 대응된다.

개체는 다음과 같은 특징을 가진다.

- 유일한 식별자(이름)으로 구별된다.(식별자를 가지고 있다.)
- 속성(고유한 특성, 상태)을 가지고 있다.
- 다른 개체와 한 개 이상의 관계를 가지고 있다.

개체는 다음과 같이 분류할 수 있다.

- **개체 타입** : 개체를 고유의 이름과 속성들로 정의한 것.
- **개체 인스턴스** : 개체를 구성하는 속성이 실제 값을 가짐으로써 실체화된 개체.
- **개체 집합** : 개체 인스턴스들의 집합

### 속성(attribute)

개체가 가지고 있는 고유의 특성으로, 일반적으로 의미 있는 데이터의 가장 작은 논리적 단위로 인식된다. 속성은 그 자체만으로는 의미가 없지만 관련 있는 속성들을 모아 개체를 구성하면 하나의 중요한 의미를 표현할 수 있다.

속성을 분류하는 기준은 다음과 같다.

- **속성 값의 개수**
  - **단일 값 속성** : 특정 개체를 구성하는 속성의 값이 하나인 경우이다.
  - **다중 값 속성** : 특정 개체를 구성하는 속성이 값을 여러 개를 가지는 경우이다.
- **의미의 분해 가능성**
  - **단순 속성** : 의미를 더는 분해할 수 없는 속성이다.
  - **복합 속성** : 의미를 분해할 수 있어 값이 여러 개의 의미를 포함하는 속성이다.(다수의 단순 속성이 모여 만들어진 속성) 하나의 단순 속성으로 처리하는 경우도 존재한다.
- **기존 속성 값에서 유도**
  - **유도 속성** : 값이 별도로 저장되는 것이 아니라 기존의 다른 속성 값에서 유도되어 결정되는 속성이다.
- **널 속성** : 널 값이 허용되는 속성이다.
- **키 속성** : 개체 집합에 존재하는 각 객체 인스턴스들을 식별하는 데 사용한다. 개체 타입을 정의할 때 중요한 제약조건은 키 속성의 값이 개체 인스턴스마다 달라서 이 값으로 개체 인스턴스를 식별할 수 있어야 한다는 것이다.

### 관계(relationship)

개체와 개체가 맺고 있는 의미 있는 연관성을 뜻한다. 개체 집합들 사이의 대응 관계(correspondence), 즉 매핑(mapping)을 의미한다.

관계를 통해서만 개체들 간의 연관성을 이용한 업무를 처리할 수 있다. 여러 개체 사이에서 정의되는 관계 타입과 개체 인스턴스들 간에 맺어진 실제 관계인 관계 인스턴스로 구분하여 표현하기도 한다.

관계도 개체처럼 속성을 지닐 수 있다. 관계를 맺음으로써 발생하는 중요한 데이터들이 관계의 속성이 된다.

#### 관계의 차수

관계는 참여하는 개체 타입의 수에 따라 다음과 같이 구분된다.

- **1진(순환) 관계**
- **2진(이항) 관계**
- **3진(삼항) 관계**
- **n진(n항) 관계**

#### 매핑 카디널리티(mapping cardinality)

데이터베이스 설계 과정에서 중요하게 활용되는 관계의 분류 기준으로, 다음과 같이 구분된다.

- **일대일(1:1) 관계**  
  개체 A의 개체 인스턴스가 다른 개체 B의 개체 인스턴스 하나와 관계를 맺는다면 두 개체의 관계는 일대일 관계이다.
- **일대다(1:n) 관계**  
  개체 A의 개체 인스턴스 하나가 다른 개체 B의 여러 개체 인스턴스와 관계를 맺지만, 개체 B의 개체 인스턴스들은 개체 A의 개체 인스턴스 하나만 관계를 맺는 경우 두 개체의 관계는 일대다 관계이다.
- **다대다(n:m) 관계**  
  개체 A의 개체 인스턴스 하나가 다른 개체 B의 여러 개체 인스턴스와 관계를 맺고, 개체 B의 인스턴스들도 마찬가지라면 두 개체의 관계는 다대다 관계이다.

### E-R 다이어그램

개체-관계 모델을 이용해 모델링한 결과물을 표준화된 그림으로 표현한 것이다. 아래 [그림](https://itwiki.kr/w/ER_%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8)처럼 표기한다.

![itwiki.kr-ER다이어그램](https://itwiki.kr/images/b/bf/EERD%ED%91%9C%EA%B8%B0%EB%B2%95.jpg)

## 논리적 데이터 모델

E-R 다이어그램으로 표현된 개념적인 구조는 **논리적 데이터 모델을 통해 데이터베이스에 표현되는 형태가 결정**되기에 DBMS의 종류가 중요하다. 논리적 데이터 모델은 논리적 데이터 모델의 결과물이고, 이것이 곧 사용자가 생각하는 데이터베이스의 모습이다.

논리적 데이터 모델로 표현된 데이터베이스의 논리적 구조가 바로 데이터베이스 스키마(schema)이다. 논리적 구조는 사용하는 DBMS에 따라 달라진다.

### 관계 데이터 모델(Relational Data Model)

- 데이터베이스의 논리적 구조가 2차원 테이블 형태이다.
- 기본키와 외래키로 관계를 표현한다.
- 일반적으로 널리 사용되는 모델이다.

### 계층 데이터 모델(Hierarchical Data Model)

- 데이터베이스의 논리적 구조가 트리 형태이다.
- 일대다 대응 관계를 갖는다.
  - 개체간의 관계를 부모-자식 관계로 표현한다.
- 개체 간 관계를 정의할 때 제약이 많아 모델링이 어렵고 구조가 복잡해질 수 있다.
- 데이터의 연산이나 원하는 데이터의 검색이 쉽지 않다.

### 네트워크 데이터 모델(Network Data Model)

- 데이터베이스의 논리적 구조가 그래프 또는 네트워크 형태이다.
- 다대다 대응 관계를 갖는다.
  - 계층 데이터 모델과는 달리 두 개체 간의 관계를 여러 개 정의할 수 있어 관계를 이름으로 구별한다.
  - 관계를 두 개 이상 표현할 수 있어 계층 데이터 모델보다 개념적 구조를 논리적 구조로 조금 더 자연스럽게 모델링할 수 있다.
- 계층 데이터 모델보다 구조가 더 복잡해질 수 있으며, 데이터의 연산과 데이터 검색이 더욱 어려워질 수 있다.

이 외에 객체 지향형 데이터 모델, 객체 관계 데이터 모델 등이 존재하나 구조를 이해하기 쉽고 데이터를 다루는 다양한 연산을 제공하는 관계 데이터 모델이 가장 인기가 많으며 폭넓게 사용된다.

## 참고 자료

- 홍의경, 『MS SQL Server 기반 데이터베이스 배움터 개정 3판』, (주)생능출판사(2017)
- [[데이터베이스 개론 4장] 데이터 모델링](https://velog.io/@mh_go/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EA%B0%9C%EB%A1%A0-4%EC%9E%A5-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%AA%A8%EB%8D%B8%EB%A7%81#%EA%B4%80%EA%B3%84relationship)
- [개체 관계 모델 및 ER 다이어그램](https://blog.naver.com/PostView.nhn?blogId=taeheon714&logNo=222274593153&parentCategoryNo=&categoryNo=12&viewDate=&isShowPopularPosts=true&from=search)
- [[DB기초] 데이터 모델의 개념과 구성요소](https://coding-factory.tistory.com/218)
- [논리적 데이터 모델링](https://goodmean.tistory.com/72)
